<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Manual · patch_model</title><meta name="title" content="Manual · patch_model"/><meta property="og:title" content="Manual · patch_model"/><meta property="twitter:title" content="Manual · patch_model"/><meta name="description" content="Documentation for patch_model."/><meta property="og:description" content="Documentation for patch_model."/><meta property="twitter:description" content="Documentation for patch_model."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="readme/">patch_model</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="readme/">Home</a></li><li class="is-active"><a class="tocitem" href>Manual</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="example1/">Default parameters</a></li><li><a class="tocitem" href="example2/">Order of introductions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Manual</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Manual</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Jakab-Mate/patch_model" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Jakab-Mate/patch_model/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p>To run simulations, we resort to a single function with a wide variety of parameters. </p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Patches.repeat_params" href="#Patches.repeat_params"><code>Patches.repeat_params</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>MANDATORY ARGUMENTS</p><ul><li>n_repeats::Int64: Number of repetitions for the simulation.</li><li>basepath::String: Path to the directory where the results will be saved.</li></ul><p>OPTIONAL ARGUMENTS Resource parameters:</p><ul><li><code>n_complex</code>::Int64: Number of complex resources. Default is <code>3</code>.</li><li><code>n_simple</code>::Int64: Number of simple resources. Default is <code>10</code>.</li><li><code>n_monomer</code>::Int64: Number of monomer resources. Default is <code>5</code>.</li><li><code>gapsize</code>::Int64: Size of the gap between complex and simple resources. Default is <code>15</code>.</li></ul><p>Resource supply parameters:</p><ul><li><code>influx_amount</code>::Float64: Amount of resource influx. Default is <code>0.0</code>.</li><li><code>influx_time</code>::Float64: Time between resource influxes. Default is <code>1.0</code>.</li><li><code>alpha_high</code>::Float64: Controls constant resource supply if <code>mucus=false</code>. Each local community receives a continuous supply 100 units of complex resource, of which <code>alpha_high</code> amount is dedicated to a single complex resource. The remainder is split evenly between other complex resources. Default is <code>100.0</code>.</li></ul><p>Species parameters:</p><ul><li><code>n_invaders</code>::Int64: Number of invading species. Default is <code>100</code>.</li><li><code>t_inv</code>::Float64: Time between the introduction of invading species. Default is <code>1.0</code>.</li><li><code>n_species</code>::Int64: Number of species initially in the habitat. Default is <code>1</code>.</li><li><code>pool_size</code>::Int64: Size of the species pool. Default is <code>500</code>.</li><li><code>tradeoff_strength</code>__number_consumed::Float64: Trade-off strength for the number of resources consumed. Default is <code>0.1</code>.</li><li><code>tradeoff_strength</code>__number<em>of</em>splits::Float64: Trade-off strength for the &quot;complexity&quot; of a species&#39; reaction repertoire, based on the number of enzymatic cuts they perform. Default is <code>0.1</code>.</li><li><code>h</code>::Float64: Reaction rate allocation tradeoff. The h-th power of reaction rates in a species always sums to one. Default is <code>1.0</code>.</li><li><code>gen_n_consumed</code>::Int64: Number of resources consumed by generalist species. Default is <code>4</code>.</li><li><code>spec_n_consumed</code>::Int64: Number of resources consumed by specialist species. Default is <code>1</code>.</li><li><code>consume_all_monomers</code>::Bool: Whether every species is able to consume all monomers. Default is <code>false</code>.</li></ul><p>Mucus parameters:</p><ul><li><code>mucus</code>::Bool: Whether to include mucus in the simulation, where resource supply is constant. Default is <code>true</code>.</li><li><code>mucus_disjunct</code>::Bool: Whether the mucus resource is disjunct from the rest of the primary resources (there is no overlap in their byproducts). Default is <code>true</code>.</li><li><code>mucus_simple</code>::Int64: Only used if <code>mucus_disjunt=true</code> Number of simple resources in the mucus resource breakdown pathways. Default is <code>5</code>.</li><li><code>mucus_mono</code>::Int64: Only used if <code>mucus_disjunt=true</code> Number of monomer resources in the mucus resource breakdown pathways. Default is <code>4</code>.</li><li><code>mucus_gap</code>::Int64: Only used if <code>mucus_disjunt=true</code> Size of the gap between mucus and simple mucus-specific resources. Default is <code>10</code>.</li></ul><p>Simulation parameters:</p><ul><li><code>ncomms</code>::Int64: Number of communities in the simulation. Default is <code>3</code>.</li><li><code>t_span</code>::Tuple{Float64, Float64}: Time span of the simulation. Default is <code>(0, 150)</code>.</li><li><code>cutoff</code>::Float64: Species under cutoff are considered extinct. Default is <code>0.0001</code>.</li><li><code>symmetrical</code>::Bool: Whether diffusion is symmetrical or directional across communities. Default is <code>true</code>.</li><li><code>limited_pathways</code>::Bool: Whether to limit the underlying metabolic reaction system by excluding ~half of the energetically possible byproducts of resources. Default is <code>true</code>.</li></ul><p>Stochasticity parameters:</p><ul><li><code>set_seeds</code>::Union{Nothing, Vector{Int64}}: If provided, seeds for each repeat. Default is <code>nothing</code>.</li><li><code>fix_metab</code>::Bool: Whether to use the same metabolism for all repeats. Default is <code>false</code>.</li><li><code>fix_pool</code>::Bool: Whether to use the same species pool for all repeats. Default is <code>false</code>.</li><li><code>fix_sample</code>::Bool: Whether to use the same sample for all repeats. Default is <code>false</code>.</li><li><code>fix_callbacks</code>::Bool: Whether to use the same callbacks for all repeats. Default is <code>false</code>.</li><li><code>fix_order</code>::Bool: Whether to fix the order of invading species. Default is <code>false</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Jakab-Mate/patch_model/blob/adb794cbe025435f25eb002f983291ca964f43b8/src/repeat_params.jl#L1-L51">source</a></section></article><p>Each simulation will have its own subfolder in the specified output folder, where the following things are saved:</p><ul><li><code>params</code>: Parameters of the simulation</li><li><code>beta_diversity plot</code>: A measure of how different the composition of local communities are</li><li><code>shannon_diversity plot</code>: A measure of the diversity of all populations of the simulation pooled together</li><li><code>MCI plot</code>: Metabolic Capacity Index of the of the system. Tracks the total number of different reactions by taking all of the species stoichiometric matrices and adding 1 for each position where at least 1 species has a non-zero entry</li><li><code>consumer_types plot</code>: Tracks the total number of primary consumer (generalist) and secondary consumer (specialist) species across the system</li><li><code>species_counts plot</code>: Tracks the total number of different species across the system</li><li><code>comm_totals plot</code>: Tracks the total abundance of members for each local community</li><li><code>community graph plots</code>: A separate graph for each local community, depicting the active pathways. Species nodes are blue, resource nodes are green. Red arrows indicate consumption, green arrows indicate production. Arrow widths are weighted according to the pathway fluxes.</li></ul><p>Outside of the individual run folders, we will find the following outputs:</p><ul><li><p><code>Aggregated versions</code> of the Beta diversity, Shannon diversity, Species counts, MCI, Consumer types and Community totals figures. Standard deviation is shown in all but the last two figures of the above list. </p></li><li><p><code>Tr_rel_something plots</code> correspond to the same measures, but they take an average of these measures around the end of the transient (tr) and at the end of the relaxation (rel) period for each simulation. The mean and standard deviation are shown.</p></li><li><p><code>JLD2 format files</code> are used to store the data needed for generating all of the above plots.</p></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="readme/">« Home</a><a class="docs-footer-nextpage" href="example1/">Default parameters »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.12.0 on <span class="colophon-date" title="Friday 13 June 2025 12:57">Friday 13 June 2025</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
